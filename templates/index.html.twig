{% extends 'base.html.twig' %}

{% block body %}
    <h1>Blog !</h1>

    {% for post in posts %}
        <h2>{{ post.title }}</h2>
        <small>{{ post.publishedAt|date("d/m/Y") }}</small>
        <p>{{ post.content }}</p>
        <small>{{ post.comments|length }} commentaire(s)</small>
        <a href="{{ path("blog_read", { id: post.id }) }}">Lire la suite</a>
    {% endfor %}
    <ul>
        {% if page > 1 %}
            <li>
                <a href="{{ path("index", { page: page - 1 }) }}">Précédent</a>
            </li>
        {% endif %}
        {% for p in range %}
            <li>
                <a href="{{ path("index", { page: p }) }}">{{ p }}</a>
            </li>
        {% endfor %}
        {% if page < pages %}
            <li>
                <a href="{{ path("index", { page: page + 1 }) }}">Suivant</a>
            </li>
        {% endif %}
    </ul>
{% endblock %}